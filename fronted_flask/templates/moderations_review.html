{% extends "base.html" %}
{% block content %}
<h1 class="h4 mb-3">Модерация: отзывы (pending)</h1>

<div class="list-group">
  {% if items and items is iterable %}
    {% for r in items %}
      <div class="list-group-item">
        <div class="d-flex justify-content-between">
          <div class="fw-semibold">★ {{ r.get("rating","—") }} <span class="text-muted">#{{ r.get("id") }}</span></div>
          <div class="text-muted small">place_id={{ r.get("place_id","") }}</div>
        </div>
        <div class="mt-2">{{ r.get("text","") }}</div>
        <div class="d-flex gap-2 mt-2">
          <form method="post" action="{{ url_for('moderation_reviews_action', review_id=r.get('id'), action='approve') }}">
            <button class="btn btn-sm btn-success">Approve</button>
          </form>
          <form method="post" action="{{ url_for('moderation_reviews_action', review_id=r.get('id'), action='reject') }}">
            <button class="btn btn-sm btn-danger">Reject</button>
          </form>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="text-muted">Нет pending отзывов.</div>
  {% endif %}
</div>

<a class="btn btn-outline-secondary mt-3" href="{{ url_for('moderation_places') }}">Назад к местам</a>
{% endblock %}
